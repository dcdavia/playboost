#{extends 'Admin/main.html' /}
#{set title:'Home' /}
#{set 'moreScripts'}
  #{script 'app/models/usergroup.js'/}
  #{script 'app/views/admin/user/group_edit.js'/}
#{/set}

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span2">
      #{include 'Admin/user/side.html' /}
    </div>
    <div class="span10">
      <form id="group-edit-form" class="form-horizontal" action="@{admin.UserGroups.save()}" method="post">
        <input type="hidden" name="group.id" value="${group?.id}"/>
			  <fieldset>
			    <legend>${group?.name}</legend>
			    <div class="control-group">
				    <label class="control-label" for="name">分组名称:</label>
				    <div class="controls">
				      <input type="text" name="group.name" id="group.name" placeholder="分组名称" value="${group?.name}"/>
				    </div>
				  </div>
				  <div class="control-group">
            <label class="control-label" for="detail">分组描述:</label>
            <div class="controls">
              <input class="input-xxlarge" type="text" name="group.detail" id="group.detail" placeholder="分组描述" value="${group?.detail}"/>
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="detail">权限配置:</label>
            <div class="controls">
              <table class="table table-hover">
	              <thead>
	                <tr>
	                  <th>#</th>
	                  <th>资源名称</th>
	                  <th>资源地址</th>
	                  <th>授权</th>
	                </tr>
	              </thead>
	              <tbody>
	               #{list resources, as: 'r'}
	                <tr>
	                  <td>${r.id}</td>
	                  <td>${r.name}</td>
	                  <td>${r.resource}</td>
	                  <td><input class="resource-id" type="checkbox" value="${r.id}"} #{if r.checked}checked="checked"#{/if}/></td>
	                </tr>
	               #{/list}
	              </tbody>
	            </table>
            </div>
          </div>
			    <div class="control-group">
				    <div class="controls">
				      #{if group}
				      <button type="submit" class="btn">保存更新</button>
				      #{/if}
				      #{else}
				      <button type="submit" class="btn">添加</button>
				      #{/else}
				    </div>
				  </div>
			  </fieldset>
			</form>
    </div>
  </div>
</div>